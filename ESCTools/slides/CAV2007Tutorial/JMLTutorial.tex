% $Id$
% -*- latex -*- mode for emacs
\typein[\MAKEHANDOUTS]{Handouts (y/n)?}
\if y\MAKEHANDOUTS \documentclass[compress,landscape,handout]{beamer}
\else \documentclass[compress]{beamer}
\fi
%
\mode<presentation>
{
  %\usetheme[secheader]{Madrid}
  \usetheme{Frankfurt}
  %\useoutertheme[subsection=false,footline=empty]{miniframes}
  \usecolortheme{seahorse}
  \usefonttheme{structurebold}
  \setbeamercovered{transparent}
  % or whatever (possibly just delete it)
}
\mode<handout>
{
   \usepackage{pgfpages}
   \pgfpagesuselayout{4 on 1}[border shrink=5mm]
}

\usepackage[english]{babel}
\usepackage[latin1]{inputenc}

\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage{times}
%avant, bookman, chancery, charter, euler, helvet, mathtime, mathptm,
%mathptmx, newcent, palatino, pifont, utopia.
% Use the luximono package to get a better look for bolded keywords
\usepackage[scaled=0.95]{luximono}


\usepackage{listings}
\input{jml-listings}
\lstset{language=[JML]Java,basicstyle=\ttfamily,commentstyle=\ttfamily,keywordstyle=\bfseries}
\newcommand{\LSTJMLFILE}[1]{
\lstinputlisting[basicstyle=\ttfamily]{#1}
}
\newcommand{\LSTJMLFILESLICE}[2]{
\lstinputlisting[gobble=4,\basicstyle=\ttfamily,linerange={#1}]{#2}
}


\title[JML Tutorial]{A JML Tutorial}
\subtitle{Modular Specification and Verification \\
of Functional Behavior for Java}

\author[Gary T. Leavens] % (optional, use only with lots of authors)
{\href{http://www.cs.iastate.edu/~leavens/}{Gary T.~Leavens}\inst{1}
  \and \href{http://secure.ucd.ie/~kiniry/}{Joseph R.~Kiniry}\inst{2}
  \and \href{http://www.cs.ru.nl/~erikpoll/}{Erik Poll}\inst{3}}
\institute[ISU] % (optional, but mostly needed)
{
  \inst{1}%
  Department of Computer Science\\
  Iowa State University (moving to UCF)
  \and
  \inst{2}%
  School of Computer Science and Informatics \\
  University College Dublin
  \and
  \inst{3}%
  Computing Science Department \\
  Radboud University Nijmegen
}

\date[CAV 2007]{July 3, 2007 / CAV 2007 Tutorial / \href{http://www.jmlspecs.org}{jmlspecs.org}}

\subject{JML} % optional insertion into the PDF information catalog.

\pgfdeclareimage[height=0.5cm]{jml-logo}{jml-logo-hires}
\logo{\pgfuseimage{jml-logo}}

% Delete this, if you do not want the table of contents to pop up at
% the beginning of each subsection:
%\AtBeginSubsection[]
%{
%  \begin{frame}<beamer>{Outline}
%    \tableofcontents[currentsection,currentsubsection]
%  \end{frame}
%}

\newtheorem*{question}{Question}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\section*{Introduction}

\begin{frame}
\frametitle{Objectives}

You'll be able to:
  \begin{itemize}
  \item
    Explain JML's goals.
  \item
    Read and write JML specifications.
  \item
    Use JML tools.
  \item
    Explain basic JML semantics.
  \item
    Know where to go for help.
  \end{itemize}
\end{frame}

\begin{frame}
\frametitle{Tutorial Outline}
  \tableofcontents %[pausesections]
\end{frame}

\begin{frame}
\frametitle{Introduce Yourself, Please}

\begin{question}
Who you are?
\end{question}

\begin{question}
What do you want to learn about JML?
\end{question}
\end{frame}

%\part{JML Basics}

\section{JML Overview}

\subsection[Basics]{Basics}

\begin{frame}
\frametitle{Java Modeling Language}
\begin{columns}[t]
\column{.5\textwidth}
\begin{block}{Currently:}
\begin{itemize}
\item
Formal.

\item 
Sequential Java.

\item
Functional behavior.
\end{itemize}
\end{block}

\pause

\column{.5\textwidth}
\begin{block}{Working on:}
\begin{itemize}
\item
Detailed Semantics.

\item 
Multithreading.

\item
Temporal Logic.
\end{itemize}
\end{block}
\end{columns}
\end{frame}

\begin{frame}
\frametitle{JML's Goals}
\begin{itemize}
\item
Practical, effective for detailed designs

\item
Existing code

\item
Wide range of tools
\end{itemize}
\end{frame}

\subsection[Flavor]{Flavor of JML}

\begin{frame}
\frametitle{Approach}
\begin{itemize}
\item
Hoare-style (Contracts)

\item
Method pre- and postconditions 

\item
Invariants
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{A JML Specification}
\begin{lstlisting}
public class ArrayFind {

    /*@ requires ;
      @*/
    public static int find(Object[] a, Object x) {
        for (int i = 0; i < a.length; i++) {
            if (a[i] == x) {
                return i;
            }
        }
        return -1;
    }
}
\end{lstlisting}
\end{frame}

\subsection[Importance]{Importance of JML}

\subsection[Related]{Related Work}

\subsection[Finding More]{Where to Find More}

\section[Reading and Writing]{Reading and Writing JML Specifications}

\subsection[Lightweight]{Lightweight Specification of Functional Behavior}

\begin{frame}
\frametitle{Requires and Ensures}
\end{frame}

\subsection[Exercise]{Specifying a Type}

\subsection[Tool Use]{Basic Tool Use}  % demo + exercise

\subsection[Tips]{Tips and Pitfalls}

%\part{Advanced JML}

\section{Subtyping}

\section[Abstraction]{Abstraction in Specification}

\section[ESC]{ESC/Java2}

\section*{Conclusions}

%\appendix

\end{document}


% \begin{frame}[fragile]
% \frametitle{Use of Listings}
% \begin{lstlisting}
% /*@ requires x > 0; 
%     ensures a.length <= 22; 
%   @*/
% public int foo(float[] a, int x) {
%    if (x > 0) {
%       return 3;
%    }
% }
% \end{lstlisting}
% \end{frame}
% 
% \begin{frame}
% \frametitle{What Are Prime Numbers?}
% \begin{definition}
% A \alert{prime number} is a number that has exactly two divisors.
% \end{definition}
% \begin{example}
% \begin{itemize}
% \item 2 is prime (two divisors: 1 and 2).
% \item 3 is prime (two divisors: 1 and 3).
% \item 4 is not prime (\alert{three} divisors: 1, 2, and 4).
% \end{itemize}
% \end{example}
% \end{frame}
