# Copyright 2000, 2001, Compaq Computer Corporation

#
# This file must be sourced before running gnumake anywhere in this
# repository.  Moreover, it must be sourced in the top directory of this
# repository.
#

############################## roots ##############################

setenv	HOUDINI_ROOT		`pwd`
setenv	ESCJAVA_ROOT		$HOUDINI_ROOT/../Escjava
setenv JAVAFE_ROOT ${ESCJAVA_ROOT}/../Javafe
# If you have a more specification files (for example, if you downloaded
# more .spec files from the ESC/Java binary release), then change the following
# line to point to that spec directory.
setenv JDKSPEC_ROOT ${ESCJAVA_ROOT}/release/master/specs

setenv JAVA srcjava

if (-r ${HOUDINI_ROOT}/setup) then
else
    echo "Error: Must source setup from the directory that contains it"
    exit 1
endif
if (-d ${ESCJAVA_ROOT}) then
else
    echo "Error: Escjava root not found: ${ESCJAVA_ROOT}"
endif
if (-d ${JAVAFE_ROOT}) then
else
    echo "Error: Javafe root not found: ${JAVAFE_ROOT}"
endif
if (-d ${JDKSPEC_ROOT}) then
else
    echo "Error: JDK spec root not found: ${JDKSPEC_ROOT}"
endif


######################### locations #########################

setenv	CLASSDIRECTORY		${HOUDINI_ROOT}/classes
setenv	SOURCEDIRECTORY		${HOUDINI_ROOT}/java

setenv  SRCDIRECTORY		/src/java
setenv  SRCCLASSDIRECTORY	/src/java

setenv	ZIPFILE                 ${JAVAFE_ROOT}/classes/java_util_zip.zip
setenv	JARFILE                 ${JAVAFE_ROOT}/classes/java_util_zip.jar

#
# Where to find source for the JDK libraries:
#
setenv	JDKSOURCES	/src/escjava/src            # JDK 1.2

setenv	JDKROOT		/udir/stata/src/jdk-alpha/src
setenv	JDK10SRC	${JDKROOT}/share/java/:${JDKROOT}/share/sun/:${JDKROOT}/solaris/sun/


#
# Where to find binaries for the JDK libraries:
#
setenv	JDKBINARIES	/proj/cra/pkg/escjava/lib/rt.jar	# JDK 1.2
setenv	JDK114BINS	/udir/sanjay/srcjava1.1/files/../files/jdk-114.zip
setenv	JDK10BINS	/proj/cra/pkg/jdk1.0.2/lib/classes.zip:${ZIPFILE}

setenv LD_LIBRARY_PATH /udir/qadeer/proj/Mocha/java/mocha/platform/alpha

######################### classpaths #########################

#
# The classpath for compiling Escjava; no sources outside the repository
# should be on this list:
#

# do not change the number of components here without updating escj!!
setenv	CLASSES		${CLASSDIRECTORY}:${ESCJAVA_ROOT}/classes:${JAVAFE_ROOT}/classes/javafe.zip:${SRCCLASSDIRECTORY}

setenv	CLASSPATH	${SOURCEDIRECTORY}:${CLASSES}:.
setenv  ESC_CLASSPATH	${ESCJAVA_ROOT}/classes:${JAVAFE_ROOT}/classes/javafe.zip:/src/java/
setenv  HOUDINI_CLASSPATH	${HOUDINI_ROOT}/classes:${ESC_CLASSPATH}

# javadepend needs a classpath where all the sources are in the current dir:
setenv	LCLASSPATH	.:${CLASSES}


#
# The appropriate -bootclasspath for escjava:
#
# Need to sources here because we can't read binary inner classes; need
# the binaries because don't have source for sun.* classes...
#
setenv	JDKSPEC		${JDKSPEC_ROOT}
setenv	BOOTCLASSPATH	${JDKSPEC}:${JDKBINARIES}

alias	jls	jls    -bootclasspath ${BOOTCLASSPATH} -E
alias	jwhich	jwhich -bootclasspath ${BOOTCLASSPATH} -X.spec

#
# The classpath for checking escjava itself (e.g., escself's classpath),
# not counting -bootclasspath:
#
setenv	ESCSPEC		${SOURCEDIRECTORY}:${JAVAFE_ROOT}/java:${SRCDIRECTORY}


######################### java* cmds #########################

#
# which version of java:
#

# use Sanjay's faster VM; need 1.2.2 to avoid 1 sec bug:
setenv	JAVAVERSION	1.2.2
setenv	JAVA		srcjava

#
# Other java* commands:
#

setenv JAVAC	"javac -g"
setenv JAVADOC	"javadoc -J-mx200m"

#
# Aliases to invoke javac with proper arguments for human use:
#
alias	javacd	"${JAVAC} -d ${CLASSDIRECTORY}"
alias	jall	"javacd *.java"

######################### esc* cmds #########################

# the location of the escj script:
setenv	ESCJ		${ESCJAVA_ROOT}/escj

alias	escjava		${ESCJ}

# houdini
setenv	HOUDINI		${HOUDINI_ROOT}/jhoudini
alias	jhoudini	${HOUDINI}


######################### misc cmds #########################

alias	copyloaded	${ESCJAVA_ROOT}/java/houdini/copyloaded
