#!/bin/csh -f

if (! $?JDK_SOURCES) ( echo typecheckJDK needs JDK_SOURCES and related variables; \
 echo See Makefile.local in ESCTools for details; exit 0 )

foreach jdk_version ( ${JDK_PRE14_SOURCES} )

    echo ===== Typechecking version ${jdk_version} =====

    setenv CLASSPATH ${jdk_version}

    foreach d ( `echo ${jdk_version}/*/*` )

    echo ===== Typechecking $d/\*.java of ${jdk_version} =====
    ${JAVA} -classpath ${CLASSDIRECTORY} javafe.test.Print \
        -classpath ${CLASSPATH} \
        -typecheck -noprint ${d}/*.java

    end
end

foreach jdk_version ( ${JDK14_SOURCES} )

    echo ===== Typechecking version ${jdk_version} =====

    setenv CLASSPATH ${jdk_version}

    foreach d ( `echo ${jdk_version}/*/*` )

    echo ===== Typechecking $d/\*.java of ${jdk_version} =====
    ${JAVA} -classpath ${CLASSDIRECTORY} javafe.test.Print \
        -classpath ${CLASSPATH} -source 1.4 \
        -typecheck -noprint ${d}/*.java

    end
end

